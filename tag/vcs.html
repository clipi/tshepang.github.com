<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
        <title>Tshepang logs &middot; articles tagged "VCS"</title>
        <link rel="shortcut icon" href="http://tshepang.net/favicon.ico" />
<link href="http://tshepang.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Tshepang logs Atom Feed" />

        <link rel="stylesheet" href="http://tshepang.net/theme/css/screen.css" type="text/css" />
        <link rel="stylesheet" href="http://tshepang.net/theme/css/pygments.css" type="text/css" />


    </head>
    <body>
<div id="header">
            <ul id="nav">
                <li class="ephemeral selected"><a href="http://tshepang.net/tag/vcs.html">VCS</a></li>
                <li><a href="http://tshepang.net">Home</a></li>
<li><a href="http://tshepang.net/about-me.html">about me</a></li>
<li><a href="http://tshepang.net/key-posts.html">key posts</a></li>
<li><a href="http://tshepang.net/archives.html">Archives</a></li>
            </ul>
            <div class="header_box">
                <h1><a href="http://tshepang.net">Tshepang logs</a></h1>
            </div>
        </div>
        <div id="wrapper">
            <div id="content">
                <h4 class="date">Jul 13,  2013</h4>
                <div class="post">
<h2 class="title">
                        <a href="http://tshepang.net/major-projects-using-mercurial" rel="bookmark" title="Permanent Link to &quot;major projects using Mercurial&quot;">major projects using Mercurial</a>
                    </h2>

                    <p>Mercurial is the only version control system that I actually like, and
I do celebrate each time I see a project use it. So, here I list the
most notable projects I am aware of that do, which also gives me hope
that it isn't being suffocated too much by Git:</p>
<ul class="simple">
<li><a class="reference external" href="http://hg.mozilla.org/mozilla-central">Firefox</a>, on top 3 of all desktop web browsers (number of users)</li>
<li><a class="reference external" href="http://hg.python.org/cpython">CPython</a>, on top 10 of all programming languages</li>
<li><a class="reference external" href="http://selenic.com/hg">Mercurial</a>, 2nd only to Git in terms of DVCS popularity, though
maybe lagging by 2 orders of magnitude :(</li>
<li><a class="reference external" href="http://hg.openjdk.java.net">OpenJDK</a>, the top open source implementation of the Java platform</li>
<li><a class="reference external" href="https://bitbucket.org/birkenfeld/sphinx">Sphinx</a>, documentation generator used in most Python projects</li>
<li><a class="reference external" href="https://bitbucket.org/pypy/pypy">PyPy</a>, likely the most exciting development in the entire Python
ecosystem</li>
<li><a class="reference external" href="http://stackexchange.com">Stack Exchange</a> (proprietary), a family of Q&amp;A sites which are,
in my opinion, the best yet</li>
</ul>


                    <div class="clear"></div>
                    <div class="info">
<a href="http://tshepang.net/major-projects-using-mercurial">posted at  9:57 pm</a>&nbsp;&middot;&nbsp;<a href="http://tshepang.net/computing" rel="tag">computing</a>
                        <div class="tags">
                            <a href="http://tshepang.net/tag/vcs" class="selected">VCS</a>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>

                <h4 class="date">Jun  1,  2013</h4>
                <div class="post">
<h2 class="title">
                        <a href="http://tshepang.net/links-2013-06-01" rel="bookmark" title="Permanent Link to &quot;links 2013-06-01&quot;">links 2013-06-01</a>
                    </h2>

                    <ul class="simple">
<li><a class="reference external" href="http://julien.danjou.info/blog/2013/rant-about-github-pull-request-workflow-implementation">a detailed look</a> at the shortcomings of GitHub Pull Requests workflow</li>
<li>it is sad seeing projects using Git, instead of Mercurial; it's
sadder still seeing them <a class="reference external" href="http://www.sqlalchemy.org/blog/2013/05/25/sqlalchemy-migrated-to-git">move from Mercurial to Git</a>; I am
scared that my favorite VCS is becoming less and less relevant</li>
<li><a class="reference external" href="http://pedrokroger.net/2012/10/using-sphinx-to-write-books">Using Sphinx to Write Technical Books</a> - nice guide</li>
<li><a class="reference external" href="http://diveintohtml5.info/past.html">HTML history</a></li>
<li><a class="reference external" href="http://diveintohtml5.info/video.html">intro to computer video</a></li>
</ul>


                    <div class="clear"></div>
                    <div class="info">
<a href="http://tshepang.net/links-2013-06-01">posted at 12:00 am</a>&nbsp;&middot;&nbsp;<a href="http://tshepang.net/computing" rel="tag">computing</a>
                        <div class="tags">
                            <a href="http://tshepang.net/tag/links">links</a>
                            <a href="http://tshepang.net/tag/vcs" class="selected">VCS</a>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>

                <h4 class="date">Apr 11,  2013</h4>
                <div class="post">
<h2 class="title">
                        <a href="http://tshepang.net/me-likes-subprocessdevnull" rel="bookmark" title="Permanent Link to &quot;me likes subprocess.DEVNULL&quot;">me likes subprocess.DEVNULL</a>
                    </h2>

                    <p>If you want to run an external process from within Python, and are not
interested in the error that process may emit, there are a few ways,
and I will demonstrate this by opening a Python shell in a directory
that isn't version-controlled by <a class="reference external" href="http://mercurial.selenic.com">Mercurial</a>:</p>
<ol class="arabic">
<li><p class="first">So, we don't want to see this ugliness:</p>
<pre class="doctest-block">
&gt;&gt;&gt; from subprocess import call
&gt;&gt;&gt; call('hg status'.split())
abort: no repository found in '/home/tshepang/projects/pyramid' (.hg not found)!
255
</pre>
</li>
<li><p class="first">So, here's the simplest solution:</p>
<pre class="doctest-block">
&gt;&gt;&gt; import os
&gt;&gt;&gt; from subprocess import call
&gt;&gt;&gt; call('hg status'.split(), stderr=open(os.devnull))
255
</pre>
<p>Problem: it leaves the file descriptor open... not good.</p>
</li>
<li><p class="first">We fix:</p>
<pre class="doctest-block">
&gt;&gt;&gt; import os
&gt;&gt;&gt; from subprocess import call
&gt;&gt;&gt; DEVNULL = open(os.devnull)
&gt;&gt;&gt; call('hg status'.split(), stderr=DEVNULL)
255
&gt;&gt;&gt; DEVNULL.close()
</pre>
<p>Much better, much uglier. (<a class="reference external" href="https://bitbucket.org/tshepang/scripts/src/tip/vcs.py">example usage</a>)</p>
</li>
<li><p class="first">Something better:</p>
<pre class="doctest-block">
&gt;&gt;&gt; import os
&gt;&gt;&gt; from subprocess import call
&gt;&gt;&gt; with open(os.devnull) as DEVNULL:
...     call('hg status'.split(), stderr=DEVNULL)
255
</pre>
<p>Looks much nicer, and is more convenient,
unless we wanted to do something similar multiple times,
in which case the previous example would be preferable.</p>
</li>
<li><p class="first">Best solution:</p>
<pre class="doctest-block">
&gt;&gt;&gt; import os
&gt;&gt;&gt; from subprocess import call, DEVNULL
&gt;&gt;&gt; call('hg status'.split(), stderr=DEVNULL)
255
</pre>
</li>
</ol>
<p>This <a class="reference external" href="http://hg.python.org/cpython/rev/eaf93e156dff">small and wonderful feature</a> is <a class="reference external" href="http://docs.python.org/3/whatsnew/3.3.html#subprocess">new as of Python 3.3</a>.</p>


                    <div class="clear"></div>
                    <div class="info">
<a href="http://tshepang.net/me-likes-subprocessdevnull">posted at 12:00 am</a>&nbsp;&middot;&nbsp;<a href="http://tshepang.net/computing" rel="tag">computing</a>
                        <div class="tags">
                            <a href="http://tshepang.net/tag/python">Python</a>
                            <a href="http://tshepang.net/tag/vcs" class="selected">VCS</a>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>

                <h4 class="date">Apr  3,  2013</h4>
                <div class="post">
<h2 class="title">
                        <a href="http://tshepang.net/me-loving-the-kiln-harmony-concept" rel="bookmark" title="Permanent Link to &quot;me loving the Kiln Harmony concept&quot;">me loving the Kiln Harmony concept</a>
                    </h2>

                    <p>I tend to work a lot with both Git and Mercurial,
and to ease the pain of forgetting which I'm using at a given moment,
I created a setup I described on <a class="reference external" href="http://tshepang.net/easing-switching-between-git-and-mercurial">another post</a>.
An even better solution is having all this sorted out on the server side,
so that it doesn't matter which of the two I'm using.
This comes in a form of a product named <a class="reference external" href="http://blog.fogcreek.com/announcing-kiln-harmony-the-future-of-dvcs/">Kiln Harmony</a>,
which also turns out to be <a class="reference external" href="https://news.ycombinator.com/item?id=5363085">a complex beast</a> behind-the-scenes.
Would be kool to see a FLOSS implementation of this.</p>


                    <div class="clear"></div>
                    <div class="info">
<a href="http://tshepang.net/me-loving-the-kiln-harmony-concept">posted at 12:00 am</a>&nbsp;&middot;&nbsp;<a href="http://tshepang.net/computing" rel="tag">computing</a>
                        <div class="tags">
                            <a href="http://tshepang.net/tag/non-floss">non-FLOSS</a>
                            <a href="http://tshepang.net/tag/vcs" class="selected">VCS</a>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>

                <h4 class="date">Feb 16,  2013</h4>
                <div class="post">
<h2 class="title">
                        <a href="http://tshepang.net/easing-switching-between-git-and-mercurial" rel="bookmark" title="Permanent Link to &quot;easing switching between Git and Mercurial&quot;">easing switching between Git and Mercurial</a>
                    </h2>

                    <p>For a long time I've been meaning to write a script that eases switching
between the only VCS systems I use, Mercurial and Git. Each chance I
get, I use Mercurial (e.g. personal stuff), and use Git when I don't
have much of a choice (e.g. FLOSS and work). That is, I use both quite a
lot, and too often I find myself running commands for one while on
another's repository.</p>
<p>I then decided to ease the pain my creating <a class="reference external" href="https://bitbucket.org/tshepang/scripts/src/tip/vcs.py">a script</a> which checks which
VCS system I'm on, and displays the relevant command.
Here are the relevant aliases:</p>
<div class="highlight"><pre><span class="nb">alias </span><span class="nv">vb</span><span class="o">=</span><span class="s1">&#39;$(python ~/projects/utils/vcs.py --branch)&#39;</span>
<span class="nb">alias </span><span class="nv">vd</span><span class="o">=</span><span class="s1">&#39;$(python ~/projects/utils/vcs.py --diff)&#39;</span>
<span class="nb">alias </span><span class="nv">vl</span><span class="o">=</span><span class="s1">&#39;$(python ~/projects/utils/vcs.py --log)&#39;</span>
<span class="nb">alias </span><span class="nv">vp</span><span class="o">=</span><span class="s1">&#39;$(python ~/projects/utils/vcs.py --push)&#39;</span>
<span class="nb">alias </span><span class="nv">vs</span><span class="o">=</span><span class="s1">&#39;$(python ~/projects/utils/vcs.py --status)&#39;</span>
<span class="nb">alias </span><span class="nv">vu</span><span class="o">=</span><span class="s1">&#39;$(python ~/projects/utils/vcs.py --pull)&#39;</span>
<span class="nb">alias </span><span class="nv">vc</span><span class="o">=</span><span class="s1">&#39;$(python ~/projects/utils/vcs.py --commit)&#39;</span>
<span class="nb">alias </span><span class="nv">vo</span><span class="o">=</span><span class="s1">&#39;$(python ~/projects/utils/vcs.py --checkout)&#39;</span>
<span class="nb">alias </span><span class="nv">vr</span><span class="o">=</span><span class="s1">&#39;$(python ~/projects/utils/vcs.py --revert)&#39;</span>
</pre></div>
<p>Displaying the output instead of running them directly from the script
gives me the flexibility of adding to the command, for example:</p>
<div class="highlight"><pre><span class="c"># committing</span>
vc <span class="s1">&#39;describe the change&#39;</span>
<span class="c"># checking history of a file</span>
vl README
</pre></div>
<p>This makes my life so much easier, since I no longer have to care where
I'm at, at least for the most common of commands. I am pleased with self.</p>


                    <div class="clear"></div>
                    <div class="info">
<a href="http://tshepang.net/easing-switching-between-git-and-mercurial">posted at 12:00 am</a>&nbsp;&middot;&nbsp;<a href="http://tshepang.net/computing" rel="tag">computing</a>
                        <div class="tags">
                            <a href="http://tshepang.net/tag/python">Python</a>
                            <a href="http://tshepang.net/tag/vcs" class="selected">VCS</a>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>

                <h4 class="date">May 16,  2012</h4>
                <div class="post">
<h2 class="title">
                        <a href="http://tshepang.net/me-loves-new-git-site-design" rel="bookmark" title="Permanent Link to &quot;me loves new Git site design&quot;">me loves new Git site design</a>
                    </h2>

                    <p>I really like the <a class="reference external" href="http://git-scm.com/">new website design</a> of the Git project (<a class="reference external" href="https://github.com/blog/1125-new-git-homepage">story</a>).
It even gained a nice and fresh icon, replacing the old which looked
like it was created in 1995. Note that <a class="reference external" href="http://web.archive.org/web/20110716073224/http://git-scm.com/">the old one</a> wasn't crap
either, and was already pretty much modern, following the 'simple and
bold' design trend I've witnessed in recent years. I'm jealous it's
better than <a class="reference external" href="http://mercurial.selenic.com/">that of Mercurial</a>, my favorite.</p>


                    <div class="clear"></div>
                    <div class="info">
<a href="http://tshepang.net/me-loves-new-git-site-design">posted at 12:00 am</a>&nbsp;&middot;&nbsp;<a href="http://tshepang.net/computing" rel="tag">computing</a>
                        <div class="tags">
                            <a href="http://tshepang.net/tag/vcs" class="selected">VCS</a>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>

                <h4 class="date">Jul 14,  2011</h4>
                <div class="post">
<h2 class="title">
                        <a href="http://tshepang.net/thanks-to-the-debian-backports-team" rel="bookmark" title="Permanent Link to &quot;thanks to the Debian backports team&quot;">thanks to the Debian backports team</a>
                    </h2>

                    <p>So I got this new HP laptop, Probook 4530s, and installed Debian 6
(Squeeze) on it. I was left sitting with two unbearable problems:</p>
<ul class="simple">
<li>The touchpad wasn't fully operational (GNOME Mouse Preferences didn't
have a Touchpad tab where I could change the settings).</li>
<li>The video driver seemed to have a problem according to the output of
<strong>xvinfo</strong> (<tt class="docutils literal">no adaptors present</tt>).</li>
</ul>
<p>I curiously looked at <a class="reference external" href="http://backports.debian.org/">the backports</a>, and found Linux kernel 2.6.38
(Squeeze has 2.6.32). I didn't expect much from it, but installed it
anyway (I heard that it has improved desktop responsiveness). I was
pleasantly surprised to find that it fixed the above two problems.
Loveliness.</p>
<p>On another note, I found that Mercurial 1.8 also has a backport.
This is great news because I have repositories I created with that
version and the format is incompatible with Squeeze's 1.6.</p>


                    <div class="clear"></div>
                    <div class="info">
<a href="http://tshepang.net/thanks-to-the-debian-backports-team">posted at 12:00 am</a>&nbsp;&middot;&nbsp;<a href="http://tshepang.net/computing" rel="tag">computing</a>
                        <div class="tags">
                            <a href="http://tshepang.net/tag/debian">Debian</a>
                            <a href="http://tshepang.net/tag/vcs" class="selected">VCS</a>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>

                <div class="clear"></div>
                <div id="footer">
                    <p>
                    Mockingbird theme by <a href="http://nevanscott.com/">Nevan Scott</a>
                    &middot;
                    <a class="atom" href="http://tshepang.net/feeds/all.atom.xml">Feed</a>
                </div>
            </div>
            <div class="clear"></div>
        </div>
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-16685250-3");
    pageTracker._trackPageview();
    } catch(err) {}</script>
    </body>
</html>