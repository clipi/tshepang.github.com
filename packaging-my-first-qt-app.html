<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>packaging my first Qt app - Tshepang logs</title>
        <script>if (top !== self) top.location = self.location;</script>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0" />
        <link rel="stylesheet" href="/static/style.css?v=709a5" />
        <link rel="stylesheet" href="/static/pygments.css?v=c6adc" />
        
        <link rel="alternate" type="application/rss+xml" href="/feed" title="Tshepang logs" />
        <!--[if lt IE 9]>
        <script type="text/javascript" src="/static/html5shiv.js?v=9a10c"></script>
        <![endif]-->
        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-16685250-3']);
            _gaq.push(['_trackPageview']);
            _gaq.push(['_trackPageLoadTime']);
            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
        
<link rel="canonical" href="/packaging-my-first-qt-app" />


    </head>
    <body>
        <header id="header">
            <h1 id="brand"><a href="/">Tshepang logs</a></h1>
            <nav id="nav" role="navigation">
                
                <a href="/misc/">misc</a>
                <a href="/computing/">computing</a>
                <a href="/arts/">arts</a>
                <a href="/key-posts">| key-posts |</a>
                <a href="/about-me">| about-me |</a>
            </nav>
        </header>

        <div id="main">
            <div class="container"><div class="hentry">
    <h1 class="entry-title">packaging my first Qt app</h1>
    <div class="entry-meta">
        <time class="updated" datetime="2013-08-27T00:00:00+02:00" pubdate>
            <a href="/2013/">2013-08-27</a>
        </time>
        <span class="author vcard">
            by <span class="fn">Tshepang Lekhonkhobe</span>
        </span>
    </div>
    <div class="entry-content">
        <p>Someone asked me to try get some KDE package into Debian. I estimated
that it would take me around 10 hours to get it into good enough shape
before asking some Debian Developer to upload it for me. Here goes
some rough estimates:</p>
<ul>
<li><p class="first"><strong>hour 1</strong>: Find documentation on the subject; I got three after a
quick search:</p>
<ul class="simple">
<li><a href="#id12"><span class="problematic" id="id13">`Ubuntu Packaging Guide`__</span></a></li>
<li><a href="#id12"><span class="problematic" id="id14">`Create Ubuntu DEB package from a Qt application`__</span></a> (marked as
deprecated, probably in favor of the official guide above)</li>
<li>Debian Packaging Tutorial (from Debian package,
<tt class="docutils literal"><span class="pre">packaging-tutorial</span></tt>)</li>
</ul>
</li>
<li><p class="first"><strong>hour 2-3</strong>: Reading the Debian Packaging Tutorial which led me to
reading <tt class="docutils literal"><span class="pre">dpkg-source</span></tt> manpage, using <tt class="docutils literal">dh_make</tt> to create a
<tt class="docutils literal">debian/</tt> skeleton, and modifying the contents of that directory.</p>
</li>
<li><p class="first"><strong>hour 4-6</strong>: Struggling to kill the lintian complaint,
<tt class="docutils literal"><span class="pre">binary-without-manpage</span></tt>. I went as far as reading the source code
(Perl) that performs the check, but that didn't help much. I could
have saved hours by looking at the <a href="#id12"><span class="problematic" id="id15">`Debian New Maintainers' Guide`__</span></a>
earlier. I also added <tt class="docutils literal">export <span class="pre">LDFLAGS=-Wl,-z,relro</span></tt> to
<tt class="docutils literal">debian/rules</tt> file to kill <tt class="docutils literal"><span class="pre">hardening-no-relro</span></tt> lintian
warning.</p>
</li>
<li><p class="first"><strong>hour 7-8</strong>: Determine what dependencies would be needed by building from
a clean chroot (pbuilder). This was with the help of Debian New
Maintainers' Guide, again.</p>
</li>
<li><p class="first"><strong>hour 9</strong>: Reading Debian <a href="#id1"><span class="problematic" id="id2">`</span></a>wiki page on Hardening <a href="#id3"><span class="problematic" id="id4">`</span></a>__ let me
simplify my packaging further... removing the need to specify
hardening flags explicitly (<a href="#id12"><span class="problematic" id="id16">commit__</span></a>). I also read details of
getting a package uploaded, with the help of <a href="#id12"><span class="problematic" id="id17">DebianMentorsFaq__</span></a>.</p>
<div class="system-message" id="id1">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">&lt;string&gt;</tt>, line 40); <em><a href="#id2">backlink</a></em></p>
<p>Inline interpreted text or phrase reference start-string without end-string.</p>
</div>
<div class="system-message" id="id3">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">&lt;string&gt;</tt>, line 40); <em><a href="#id4">backlink</a></em></p>
<p>Inline interpreted text or phrase reference start-string without end-string.</p>
</div>
</li>
</ul>
<p>The resulting package now lives at
<a class="reference external" href="https://bitbucket.org/tshepang/ksig/src">https://bitbucket.org/tshepang/ksig/src</a>. The changes I made, the
actual packaging work, are in <a href="#id12"><span class="problematic" id="id18">`this directory`__</span></a>.</p>
<div class="system-messages section">
<h2>Docutils System Messages</h2>
<div class="system-message" id="id12">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>); <em>backlinks: <a href="#id13">1</a>, <a href="#id14">2</a>, <a href="#id15">3</a>, <a href="#id16">4</a>, <a href="#id17">5</a>, <a href="#id18">6</a></em></p>
Anonymous hyperlink mismatch: 6 references but 7 targets.
See &quot;backrefs&quot; attribute for IDs.</div>
</div>

    </div>

    

    <div class="entry-tags">
        <a href="/tag/#Debian">Debian</a><a href="/tag/#non-Python">non-Python</a>
    </div>

    <iframe style="border: 0; margin: 0; padding: 0;"
        src="https://www.gittip.com/tshepang/widget.html"
        width="48pt" height="22pt"></iframe>

    
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'tshepanglogs';
        var disqus_title = 'packaging my first Qt app';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    
</div></div>
        </div>

        <footer id="footer">
            <hr class="end" />
            
            <p class="copyright">
            <span class="software">
                Powered by <a href="http://lab.lepture.com/liquidluck/">Felix Felicis</a> 3.8,
            </span>
            <span class="theme">
                Theme <a href="https://github.com/lepture/liquidluck-theme-moment" rel="nofollow">moment</a> 1.0 by <a href="http://lepture.com">Hsiaoming Yang</a>
            </span>
            </p>
        </footer>
        <script type="text/javascript" src="/static/mobile.js?v=3b6df"></script>
        
    </body>
</html>