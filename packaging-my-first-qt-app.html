<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>packaging my first Qt app KenIngle.com</title>

    <link rel="stylesheet" href="http://tshepang.net/theme/css/main.css">
    <link rel="stylesheet" href="http://tshepang.net/theme/css/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <div><img src="" class="grv-img"/></div>
        <div class="title"><a href="http://tshepang.net/">Tshepang logs </a></div>
        <div class="sub-title"></div>

<p>
    <div class="view"><a href="http://tshepang.net/about-me.html">about me</a></div>
    <div class="view"><a href="http://tshepang.net/key-posts.html">key posts</a></div>
  <div class="view"><a href="http://tshepang.net/archives.html">Archives</a></div>
</p>

<!-- Social links -->

      </header>
      <section>
<section id="content" class="body">
  <article>
      <div class="article-title">
        packaging my first Qt app
      </div>

    <div class="entry-content">
<p>
<small>
<abbr class="published" title="2013-08-27T00:00:00">
  2013-08-27
</abbr> | 
  tags: 
    <a href="http://tshepang.net/tag/debian">Debian</a>, 
    <a href="http://tshepang.net/tag/non-python">non-Python</a>, 
 -- (<a href="http://tshepang.net/packaging-my-first-qt-app" rel="bookmark">permalink</a>)
</small>
</p>      <p>Someone asked me to try get some KDE package into Debian. I estimated
that it would take me around 10 hours to get it into good enough shape
before asking some Debian Developer to upload it for me. Here goes
some rough estimates:</p>
<ul class="simple">
<li><strong>hour 1</strong>: Find documentation on the subject; I got three after a
quick search:<ul>
<li><a class="reference external" href="http://developer.ubuntu.com/packaging/html">Ubuntu Packaging Guide</a></li>
<li><a class="reference external" href="https://wiki.ubuntu.com/PackagingGuideDeprecated/QtApplication">Create Ubuntu DEB package from a Qt application</a> (marked as
deprecated, probably in favor of the official guide above)</li>
<li>Debian Packaging Tutorial (from Debian package,
<tt class="docutils literal"><span class="pre">packaging-tutorial</span></tt>)</li>
</ul>
</li>
<li><strong>hour 2-3</strong>: Reading the Debian Packaging Tutorial which led me to
reading <tt class="docutils literal"><span class="pre">dpkg-source</span></tt> manpage, using <tt class="docutils literal">dh_make</tt> to create a
<tt class="docutils literal">debian/</tt> skeleton, and modifying the contents of that directory.</li>
<li><strong>hour 4-6</strong>: Struggling to kill the lintian complaint,
<tt class="docutils literal"><span class="pre">binary-without-manpage</span></tt>. I went as far as reading the source code
(Perl) that performs the check, but that didn't help much. I could
have saved hours by looking at the <a class="reference external" href="http://www.debian.org/doc/manuals/maint-guide">Debian New Maintainers' Guide</a>
earlier. I also added <tt class="docutils literal">export <span class="pre">LDFLAGS=-Wl,-z,relro</span></tt> to
<tt class="docutils literal">debian/rules</tt> file to kill <tt class="docutils literal"><span class="pre">hardening-no-relro</span></tt> lintian
warning.</li>
<li><strong>hour 7-8</strong>: Determine what dependencies would be needed by building from
a clean chroot (pbuilder). This was with the help of Debian New
Maintainers' Guide, again.</li>
<li><strong>hour 9-10</strong>: Reading <a class="reference external" href="https://wiki.debian.org/Hardening">Debian wiki page on Hardening</a> let me
simplify my packaging further... removing the need to specify
hardening flags explicitly (<a class="reference external" href="https://bitbucket.org/tshepang/ksig/commits/f4c7b60157b79847f918e3d8b24a74e6c5bec929">commit</a>). I also uploaded the package
<a class="reference external" href="http://mentors.debian.net/package/ksig">to mentors.debian.net</a>, with the help of <a class="reference external" href="https://wiki.debian.org/DebianMentorsFaq">DebianMentorsFaq</a>.</li>
</ul>
<p>The resulting package now lives at
<a class="reference external" href="https://bitbucket.org/tshepang/ksig/src">https://bitbucket.org/tshepang/ksig/src</a>. The changes I made, the
actual packaging work, are in <a class="reference external" href="https://bitbucket.org/tshepang/ksig/src/f4c7b60157b79847f918e3d8b24a74e6c5bec929/debian">this directory</a>.</p>

<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="tshepang_dev">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
    </div><!-- /.entry-content -->
<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'tshepanglogs'; // required: replace example with your forum shortname
        var disqus_identifier = "packaging-my-first-qt-app";

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </article>
</section>
      </section>
      <footer>
        <p><small>&copy; Tshepang logs &mdash; Theme based on Sundown by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <!-- Scale fix -->
    <script>
      var metas = document.getElementsByTagName('meta');
      var i;
      
      if (navigator.userAgent.match(/iPhone/i)) {
        for (i=0; i<metas.length; i++) {
          if (metas[i].name == "viewport") {
            metas[i].content = "width=device-width, minimum-scale=1.0, maximum-scale=1.0";
          }
        }
      
        document.addEventListener("gesturestart", gestureStart, false);
      }

      function gestureStart() {
        for (i=0; i<metas.length; i++) {
          if (metas[i].name == "viewport") {
            metas[i].content = "width=device-width, minimum-scale=0.25, maximum-scale=1.6";
          }
        }
      }
    </script>
  </body>
</html>