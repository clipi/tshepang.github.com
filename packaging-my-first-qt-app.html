<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
        <title>Tshepang logs &middot; packaging my first Qt app</title>
        <link rel="shortcut icon" href="http://tshepang.net/favicon.ico" />
<link href="http://tshepang.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Tshepang logs Atom Feed" />

        <link rel="stylesheet" href="http://tshepang.net/theme/css/screen.css" type="text/css" />
        <link rel="stylesheet" href="http://tshepang.net/theme/css/pygments.css" type="text/css" />


    </head>
    <body>
<div id="header">
            <ul id="nav">
                <li><a href="http://tshepang.net">Home</a></li>
<li><a href="http://tshepang.net/about-me.html">about me</a></li>
<li><a href="http://tshepang.net/key-posts.html">key posts</a></li>
<li><a href="http://tshepang.net/archives.html">Archives</a></li>
            </ul>
            <div class="header_box">
                <h1><a href="http://tshepang.net">Tshepang logs</a></h1>
            </div>
        </div>
        <div id="wrapper">
            <div id="content">
                <h4 class="date">Aug 27,  2013</h4>
                <div class="post">
<h2 class="title">
                        <a href="http://tshepang.net/packaging-my-first-qt-app" rel="bookmark" title="Permanent Link to &quot;packaging my first Qt app&quot;">packaging my first Qt app</a>
                    </h2>

                    <p>Someone asked me to try get some KDE package into Debian. I estimated
that it would take me around 10 hours to get it into good enough shape
before asking some Debian Developer to upload it for me. Here goes
some rough estimates:</p>
<ul class="simple">
<li><strong>hour 1</strong>: Find documentation on the subject; I got three after a
quick search:<ul>
<li><a class="reference external" href="http://developer.ubuntu.com/packaging/html">Ubuntu Packaging Guide</a></li>
<li><a class="reference external" href="https://wiki.ubuntu.com/PackagingGuideDeprecated/QtApplication">Create Ubuntu DEB package from a Qt application</a> (marked as
deprecated, probably in favor of the official guide above)</li>
<li>Debian Packaging Tutorial (from Debian package,
<tt class="docutils literal"><span class="pre">packaging-tutorial</span></tt>)</li>
</ul>
</li>
<li><strong>hour 2-3</strong>: Reading the Debian Packaging Tutorial which led me to
reading <tt class="docutils literal"><span class="pre">dpkg-source</span></tt> manpage, using <tt class="docutils literal">dh_make</tt> to create a
<tt class="docutils literal">debian/</tt> skeleton, and modifying the contents of that directory.</li>
<li><strong>hour 4-6</strong>: Struggling to kill the lintian complaint,
<tt class="docutils literal"><span class="pre">binary-without-manpage</span></tt>. I went as far as reading the source code
(Perl) that performs the check, but that didn't help much. I could
have saved hours by looking at the <a class="reference external" href="http://www.debian.org/doc/manuals/maint-guide">Debian New Maintainers' Guide</a>
earlier. I also added <tt class="docutils literal">export <span class="pre">LDFLAGS=-Wl,-z,relro</span></tt> to
<tt class="docutils literal">debian/rules</tt> file to kill <tt class="docutils literal"><span class="pre">hardening-no-relro</span></tt> lintian
warning.</li>
<li><strong>hour 7-8</strong>: Determine what dependencies would be needed by building from
a clean chroot (pbuilder). This was with the help of Debian New
Maintainers' Guide, again.</li>
<li><strong>hour 9-10</strong>: Reading <a class="reference external" href="https://wiki.debian.org/Hardening">Debian wiki page on Hardening</a> let me
simplify my packaging further... removing the need to specify
hardening flags explicitly (<a class="reference external" href="https://bitbucket.org/tshepang/ksig/commits/f4c7b60157b79847f918e3d8b24a74e6c5bec929">commit</a>). I also uploaded the package
<a class="reference external" href="http://mentors.debian.net/package/ksig">to mentors.debian.net</a>, with the help of <a class="reference external" href="https://wiki.debian.org/DebianMentorsFaq">DebianMentorsFaq</a>.</li>
</ul>
<p>The resulting package now lives at
<a class="reference external" href="https://bitbucket.org/tshepang/ksig/src">https://bitbucket.org/tshepang/ksig/src</a>. The changes I made, the
actual packaging work, are in <a class="reference external" href="https://bitbucket.org/tshepang/ksig/src/f4c7b60157b79847f918e3d8b24a74e6c5bec929/debian">this directory</a>.</p>


                    <div class="clear"></div>
                    <div class="info">
<a href="http://tshepang.net/packaging-my-first-qt-app">posted at 12:00 am</a>&nbsp;&middot;&nbsp;<a href="http://tshepang.net/computing" rel="tag">computing</a>
                        <div class="tags">
                            <a href="http://tshepang.net/tag/debian">Debian</a>
                            <a href="http://tshepang.net/tag/non-python">non-Python</a>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>

                <div class="clear"></div>
                <div id="footer">
                    <p>
                    Mockingbird theme by <a href="http://nevanscott.com/">Nevan Scott</a>
                    &middot;
                    <a class="atom" href="http://tshepang.net/feeds/all.atom.xml">Feed</a>
                </div>
            </div>
            <div class="clear"></div>
        </div>
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-16685250-3");
    pageTracker._trackPageview();
    } catch(err) {}</script>
    </body>
</html>